script: |
  super -f text -I q1884.spq | sort > q1884.out

inputs:
  - name: q1884.spq
    data: |
      SELECT c-d,
      c,
      CASE WHEN c>(SELECT avg(c) FROM t1 (FORMAT parquet)) THEN a*2 ELSE b*10 END,
      a+b*2+c*3+d*4,
      d-e
      FROM t1 (FORMAT parquet);
  - name: t1

outputs:
  - name: q1884.out
    data: |
      -	-	2360	-	1
      -	147	1450	-	-
      -	150	1510	-	-
      -	155	1580	-	-
      -	166	1670	-	-
      -	176	358	-	-
      -	244	486	-	-
      -1	113	1120	-	4
      -1	195	398	1964	-1
      -1	202	402	-	-1
      -1	225	458	2264	-1
      -1	247	490	2476	2
      -2	106	1050	1067	-1
      -2	215	432	2165	-2
      -2	231	468	2323	3
      -3	125	1290	1272	2
      -3	161	1600	1622	2
      1	102	-	-	-
      1	123	1240	1226	-
      1	134	1300	1325	1
      1	137	1390	1371	1
      1	141	1430	1411	-4
      1	172	1700	1714	-2
      1	184	364	1828	3
      1	208	-	-	-
      2	187	376	1861	-4
      2	214	426	2125	2
      2	224	440	2226	1
      3	119	-	-	-1
      3	193	382	1918	-2
