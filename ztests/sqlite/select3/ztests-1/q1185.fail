# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q1185.sql | sort > q1185.out

inputs:
  - name: q1185.sql
    data: |
      SELECT b,
      (SELECT count(*) FROM t1 AS x WHERE x.c>t1.c AND x.d<t1.d),
      a+b*2+c*3,
      a-b,
      (a+b+c+d+e)/5,
      a+b*2+c*3+d*4,
      abs(b-c)
      FROM t1
      WHERE b>c
      OR (e>c OR e<d)
      OR a>b
      ORDER BY 4,5,3,7,6,1;

outputs:
  - name: q1185.out
    data: |
      105	0	635	2	107	1067	1
      112	0	NULL	NULL	NULL	NULL	1
      124	0	738	-3	NULL	1226	1
      129	0	760	-2	127	1272	4
      130	0	793	1	132	1325	4
      139	0	827	-1	137	1371	2
      143	0	851	-1	142	1411	2
      145	0	880	4	NULL	NULL	2
      151	0	905	2	NULL	NULL	1
      158	0	940	1	NULL	NULL	3
      160	0	966	3	162	1622	1
      167	0	1000	1	NULL	NULL	1
      170	0	1030	4	172	1714	2
      175	0	1057	4	NULL	NULL	1
      181	0	1096	1	182	1828	3
      186	0	1121	2	187	1861	1
      194	0	1158	-3	192	1918	1
      198	0	1180	1	197	1964	3
      211	0	1277	2	212	2125	3
      218	0	1297	-2	217	2165	3
      223	0	1338	-3	222	2226	1
      228	0	1360	1	227	2264	3
      232	0	1391	2	232	2323	1
      236	0	NULL	3	NULL	NULL	NULL
      240	0	1455	3	NULL	NULL	4
      249	0	1484	-4	247	2476	2
      NULL	0	NULL	NULL	NULL	NULL	NULL
