# Failed due to: https://github.com/brimdata/super/issues/6549
script: |
  super -f tsv -I q3013.sql | sort > q3013.out

vector: true

inputs:
  - name: q3013.sql
    data: |
      SELECT a-b,
      a+b*2+c*3+d*4,
      a+b*2,
      b,
      a
      FROM t1
      WHERE EXISTS(SELECT 1 FROM t1 AS x WHERE x.b<t1.b)
      ORDER BY 1,4,2,3;
  - name: t1

outputs:
  - name: q3013.out
    data: |
      -1	1371	416	139	138
      -1	1411	428	143	142
      -2	1272	385	129	127
      -2	2165	652	218	216
      -3	1226	369	124	121
      -3	1918	579	194	191
      -3	2226	666	223	220
      -4	2476	743	249	245
      1	1325	391	130	131
      1	1828	544	181	182
      1	1964	595	198	199
      1	2264	685	228	229
      1	NULL	475	158	159
      1	NULL	502	167	168
      2	1861	560	186	188
      2	2125	635	211	213
      2	2323	698	232	234
      2	NULL	455	151	153
      3	1622	483	160	163
      3	NULL	711	236	239
      3	NULL	723	240	243
      4	1714	514	170	174
      4	NULL	439	145	149
      4	NULL	529	175	179
      NULL	NULL	NULL	112	NULL
      NULL	NULL	NULL	206	NULL
