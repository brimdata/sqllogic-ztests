script: |
  super -f tsv -I q257.sql | sort > q257.out

vector: true

inputs:
  - name: q257.sql
    data: |
      SELECT a,
      abs(b-c),
      a-b,
      CASE WHEN c>(SELECT avg(c) FROM t1) THEN a*2 ELSE b*10 END,
      b-c
      FROM t1
      WHERE (e>a AND e<b)
      OR a>b
      ORDER BY 3,1,2;
  - name: t1

outputs:
  - name: q257.out
    data: |
      107	1	2	1050	-1
      131	4	1	1300	-4
      149	2	4	1450	-2
      153	1	2	1510	1
      159	3	1	1580	3
      163	1	3	1600	-1
      168	1	1	1670	1
      174	2	4	1700	-2
      179	1	4	358	-1
      182	3	1	364	-3
      188	1	2	376	-1
      191	1	-3	382	1
      199	3	1	398	3
      213	3	2	426	-3
      220	1	-3	440	-1
      229	3	1	458	3
      234	1	2	468	1
      239	NULL	3	2360	NULL
      243	4	3	486	-4
      245	2	-4	490	2
