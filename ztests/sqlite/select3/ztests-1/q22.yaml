script: |
  super -f tsv -I q22.sql | sort > q22.out

vector: true

inputs:
  - name: q22.sql
    data: |
      SELECT e,
      a,
      CASE WHEN c>(SELECT avg(c) FROM t1) THEN a*2 ELSE b*10 END,
      (a+b+c+d+e)/5,
      d-e
      FROM t1
      WHERE (c<=d-2 OR c>=d+2)
      OR d>e;
  - name: t1

outputs:
  - name: q22.out
    data: |
      109	107	1050	107	-1
      110	NULL	1120	NULL	4
      117	115	NULL	NULL	-1
      126	127	1290	127	2
      132	131	1300	132	1
      135	138	1390	137	1
      162	163	1600	162	2
      180	182	364	182	3
      189	188	376	187	-4
      192	191	382	192	-2
      210	213	426	212	2
      219	216	432	217	-2
      221	220	440	222	1
      230	234	468	232	3
      237	239	2360	NULL	1
      246	245	490	247	2
