script: |
  super -f tsv -I q949.sql | sort > q949.out

vector: true

inputs:
  - name: q949.sql
    data: |
      SELECT d,
      a+b*2+c*3,
      c,
      a+b*2+c*3+d*4,
      CASE WHEN a<b-3 THEN 111 WHEN a<=b THEN 222
      WHEN a<b+3 THEN 333 ELSE 444 END
      FROM t1
      ORDER BY 3,2,5,4;
  - name: t1

outputs:
  - name: q949.out
    data: |
      101	NULL	102	NULL	444
      108	635	106	1067	333
      114	NULL	113	NULL	444
      116	NULL	119	NULL	444
      122	738	123	1226	222
      128	760	125	1272	222
      133	793	134	1325	333
      136	827	137	1371	222
      140	851	141	1411	222
      164	966	161	1622	444
      171	1030	172	1714	444
      183	1096	184	1828	333
      185	1121	187	1861	333
      190	1158	193	1918	222
      196	1180	195	1964	333
      203	NULL	202	NULL	444
      207	NULL	208	NULL	444
      212	1277	214	2125	333
      217	1297	215	2165	222
      222	1338	224	2226	222
      226	1360	225	2264	333
      233	1391	231	2323	333
      238	NULL	NULL	NULL	444
      248	1484	247	2476	111
      NULL	1000	166	NULL	333
      NULL	1057	176	NULL	444
      NULL	1455	244	NULL	444
      NULL	880	147	NULL	444
      NULL	905	150	NULL	333
      NULL	940	155	NULL	333
