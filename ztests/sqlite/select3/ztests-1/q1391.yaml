script: |
  super -f tsv -I q1391.sql | sort > q1391.out

vector: true

inputs:
  - name: q1391.sql
    data: |
      SELECT abs(b-c),
      b-c,
      a+b*2+c*3,
      a-b,
      e,
      a+b*2,
      CASE WHEN c>(SELECT avg(c) FROM t1) THEN a*2 ELSE b*10 END
      FROM t1
      WHERE e+d BETWEEN a+b-10 AND c+130
      OR (e>c OR e<d)
      ORDER BY 7,6,4,3,1,5;
  - name: t1

outputs:
  - name: q1391.out
    data: |
      1	-1	1057	4	177	529	358
      1	-1	1121	2	189	560	376
      1	-1	1338	-3	221	666	440
      1	-1	635	2	109	317	1050
      1	-1	966	3	162	483	1600
      1	-1	NULL	NULL	110	NULL	1120
      1	1	1391	2	230	698	468
      2	-2	1030	4	173	514	1700
      2	2	1484	-4	246	743	490
      2	2	827	-1	135	416	1390
      2	2	851	-1	144	428	1430
      3	-3	1096	1	180	544	364
      3	-3	1277	2	210	635	426
      3	3	1180	1	197	595	398
      3	3	1297	-2	219	652	432
      3	3	1360	1	227	685	458
      3	3	940	1	157	475	1580
      4	-4	793	1	132	391	1300
      4	4	760	-2	126	385	1290
      NULL	NULL	NULL	3	237	711	2360
      NULL	NULL	NULL	NULL	204	NULL	402
