script: |
  super -f tsv -I q903.sql | sort > q903.out

vector: true

inputs:
  - name: q903.sql
    data: |
      SELECT CASE WHEN a<b-3 THEN 111 WHEN a<=b THEN 222
      WHEN a<b+3 THEN 333 ELSE 444 END,
      e,
      a+b*2,
      d-e
      FROM t1
      ORDER BY 1,2,3,4;
  - name: t1

outputs:
  - name: q903.out
    data: |
      111	246	743	2
      222	126	385	2
      222	135	416	1
      222	144	428	-4
      222	192	579	-2
      222	219	652	-2
      222	221	666	1
      222	NULL	369	NULL
      333	109	317	-1
      333	132	391	1
      333	157	475	NULL
      333	165	502	NULL
      333	180	544	3
      333	189	560	-4
      333	197	595	-1
      333	210	635	2
      333	227	685	-1
      333	230	698	3
      333	NULL	455	NULL
      444	110	NULL	4
      444	117	NULL	-1
      444	146	439	NULL
      444	162	483	2
      444	173	514	-2
      444	177	529	NULL
      444	204	NULL	-1
      444	237	711	1
      444	NULL	723	NULL
      444	NULL	NULL	NULL
      444	NULL	NULL	NULL
