script: |
  super -f tsv -I q2212.sql | sort > q2212.out

vector: true

inputs:
  - name: q2212.sql
    data: |
      SELECT d-e,
      CASE WHEN c>(SELECT avg(c) FROM t1) THEN a*2 ELSE b*10 END,
      e,
      a+b*2+c*3+d*4,
      a,
      a+b*2+c*3,
      (a+b+c+d+e)/5
      FROM t1
      WHERE b>c;
  - name: t1

outputs:
  - name: q2212.out
    data: |
      -1	398	197	1964	199	1180	197
      -1	458	227	2264	229	1360	227
      -2	382	192	1918	191	1158	192
      -2	432	219	2165	216	1297	217
      -4	1430	144	1411	142	851	142
      1	1390	135	1371	138	827	137
      2	1290	126	1272	127	760	127
      2	490	246	2476	245	1484	247
      3	468	230	2323	234	1391	232
      NULL	1240	NULL	1226	121	738	NULL
      NULL	1510	NULL	NULL	153	905	NULL
      NULL	1580	157	NULL	159	940	NULL
      NULL	1670	165	NULL	168	1000	NULL
