script: |
  super -f tsv -I q1638.sql | sort > q1638.out

vector: true

inputs:
  - name: q1638.sql
    data: |
      SELECT a+b*2+c*3+d*4,
      CASE WHEN a<b-3 THEN 111 WHEN a<=b THEN 222
      WHEN a<b+3 THEN 333 ELSE 444 END,
      a+b*2+c*3,
      a,
      b,
      CASE a+1 WHEN b THEN 111 WHEN c THEN 222
      WHEN d THEN 333  WHEN e THEN 444 ELSE 555 END,
      (a+b+c+d+e)/5
      FROM t1
      WHERE (e>c OR e<d);
  - name: t1

outputs:
  - name: q1638.out
    data: |
      1067	333	635	107	105	333	107
      1272	222	760	127	129	333	127
      1325	333	793	131	130	444	132
      1371	222	827	138	139	111	137
      1411	222	851	142	143	111	142
      1622	444	966	163	160	333	162
      1714	444	1030	174	170	555	172
      1828	333	1096	182	181	333	182
      1861	333	1121	188	186	444	187
      1964	333	1180	199	198	555	197
      2125	333	1277	213	211	222	212
      2165	222	1297	216	218	333	217
      2226	222	1338	220	223	444	222
      2264	333	1360	229	228	555	227
      2323	333	1391	234	232	555	232
      2476	111	1484	245	249	444	247
      NULL	333	940	159	158	555	NULL
      NULL	444	1057	179	175	555	NULL
      NULL	444	NULL	201	NULL	222	NULL
      NULL	444	NULL	239	236	555	NULL
      NULL	444	NULL	NULL	112	555	NULL
