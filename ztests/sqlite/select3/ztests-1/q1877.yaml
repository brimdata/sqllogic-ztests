script: |
  super -f tsv -I q1877.sql | sort > q1877.out

vector: true

inputs:
  - name: q1877.sql
    data: |
      SELECT CASE WHEN c>(SELECT avg(c) FROM t1) THEN a*2 ELSE b*10 END,
      d-e,
      d,
      a+b*2+c*3,
      a-b,
      c-d,
      a+b*2+c*3+d*4
      FROM t1
      WHERE d NOT BETWEEN 110 AND 150
      OR (a>b-2 AND a<b+2)
      ORDER BY 5,7,2,6,1;
  - name: t1

outputs:
  - name: q1877.out
    data: |
      1050	-1	108	635	2	-2	1067
      1300	1	133	793	1	1	1325
      1390	1	136	827	-1	1	1371
      1430	-4	140	851	-1	1	1411
      1580	NULL	NULL	940	1	NULL	NULL
      1600	2	164	966	3	-3	1622
      1670	NULL	NULL	1000	1	NULL	NULL
      1700	-2	171	1030	4	1	1714
      2360	1	238	NULL	3	NULL	NULL
      364	3	183	1096	1	1	1828
      376	-4	185	1121	2	2	1861
      382	-2	190	1158	-3	3	1918
      398	-1	196	1180	1	-1	1964
      402	-1	203	NULL	NULL	-1	NULL
      426	2	212	1277	2	2	2125
      432	-2	217	1297	-2	-2	2165
      440	1	222	1338	-3	2	2226
      458	-1	226	1360	1	-1	2264
      468	3	233	1391	2	-2	2323
      490	2	248	1484	-4	-1	2476
      NULL	NULL	101	NULL	NULL	1	NULL
      NULL	NULL	207	NULL	NULL	1	NULL
