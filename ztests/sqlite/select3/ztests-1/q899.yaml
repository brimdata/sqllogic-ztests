script: |
  super -f tsv -I q899.sql | sort > q899.out

vector: true

inputs:
  - name: q899.sql
    data: |
      SELECT (a+b+c+d+e)/5,
      a+b*2+c*3+d*4+e*5,
      c-d,
      CASE WHEN a<b-3 THEN 111 WHEN a<=b THEN 222
      WHEN a<b+3 THEN 333 ELSE 444 END,
      a+b*2+c*3,
      d,
      a-b
      FROM t1
      ORDER BY 3,7,4,2,1;
  - name: t1

outputs:
  - name: q899.out
    data: |
      107	1612	-2	333	635	108	2
      127	1902	-3	222	760	128	-2
      132	1985	1	333	793	133	1
      137	2046	1	222	827	136	-1
      142	2131	1	222	851	140	-1
      162	2432	-3	444	966	164	3
      172	2579	1	444	1030	171	4
      182	2728	1	333	1096	183	1
      187	2806	2	333	1121	185	2
      192	2878	3	222	1158	190	-3
      197	2949	-1	333	1180	196	1
      212	3175	2	333	1277	212	2
      217	3260	-2	222	1297	217	-2
      222	3331	2	222	1338	222	-3
      227	3399	-1	333	1360	226	1
      232	3473	-2	333	1391	233	2
      247	3706	-1	111	1484	248	-4
      NULL	NULL	-1	444	NULL	114	NULL
      NULL	NULL	-1	444	NULL	203	NULL
      NULL	NULL	1	222	738	122	-3
      NULL	NULL	1	444	NULL	101	NULL
      NULL	NULL	1	444	NULL	207	NULL
      NULL	NULL	3	444	NULL	116	NULL
      NULL	NULL	NULL	333	1000	NULL	1
      NULL	NULL	NULL	333	905	NULL	2
      NULL	NULL	NULL	333	940	NULL	1
      NULL	NULL	NULL	444	1057	NULL	4
      NULL	NULL	NULL	444	1455	NULL	3
      NULL	NULL	NULL	444	880	NULL	4
      NULL	NULL	NULL	444	NULL	238	3
