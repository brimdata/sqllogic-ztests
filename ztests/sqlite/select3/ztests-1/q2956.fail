# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q2956.sql | sort > q2956.out

inputs:
  - name: q2956.sql
    data: |
      SELECT d,
      b-c,
      abs(a),
      c-d,
      e,
      (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b),
      c
      FROM t1;

outputs:
  - name: q2956.out
    data: |
      101	NULL	104	1	NULL	0	102
      108	-1	107	-2	109	0	106
      114	-1	NULL	-1	110	1	113
      116	NULL	115	3	117	0	119
      122	1	121	1	NULL	2	123
      128	4	127	-3	126	3	125
      133	-4	131	1	132	4	134
      136	2	138	1	135	5	137
      140	2	142	1	144	6	141
      164	-1	163	-3	162	10	161
      171	-2	174	1	173	12	172
      183	-3	182	1	180	14	184
      185	-1	188	2	189	15	187
      190	1	191	3	192	16	193
      196	3	199	-1	197	17	195
      203	NULL	201	-1	204	0	202
      207	-2	NULL	1	NULL	18	208
      212	-3	213	2	210	19	214
      217	3	216	-2	219	20	215
      222	-1	220	2	221	21	224
      226	3	229	-1	227	22	225
      233	1	234	-2	230	23	231
      238	NULL	239	NULL	237	24	NULL
      248	2	245	-1	246	26	247
      NULL	-1	179	NULL	177	13	176
      NULL	-2	149	NULL	146	7	147
      NULL	-4	243	NULL	NULL	25	244
      NULL	1	153	NULL	NULL	8	150
      NULL	1	168	NULL	165	11	166
      NULL	3	159	NULL	157	9	155
