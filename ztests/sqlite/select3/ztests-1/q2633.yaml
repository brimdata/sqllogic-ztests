script: |
  super -f tsv -I q2633.sql | sort > q2633.out

vector: true

inputs:
  - name: q2633.sql
    data: |
      SELECT CASE WHEN a<b-3 THEN 111 WHEN a<=b THEN 222
      WHEN a<b+3 THEN 333 ELSE 444 END,
      b-c,
      a+b*2+c*3+d*4,
      a,
      abs(b-c)
      FROM t1
      ORDER BY 2,4,1;
  - name: t1

outputs:
  - name: q2633.out
    data: |
      111	2	2476	245	2
      222	-1	2226	220	1
      222	1	1226	121	1
      222	1	1918	191	1
      222	2	1371	138	2
      222	2	1411	142	2
      222	3	2165	216	3
      222	4	1272	127	4
      333	-1	1067	107	1
      333	-1	1861	188	1
      333	-3	1828	182	3
      333	-3	2125	213	3
      333	-4	1325	131	4
      333	1	2323	234	1
      333	1	NULL	153	1
      333	1	NULL	168	1
      333	3	1964	199	3
      333	3	2264	229	3
      333	3	NULL	159	3
      444	-1	1622	163	1
      444	-1	NULL	179	1
      444	-1	NULL	NULL	1
      444	-2	1714	174	2
      444	-2	NULL	149	2
      444	-2	NULL	NULL	2
      444	-4	NULL	243	4
      444	NULL	NULL	104	NULL
      444	NULL	NULL	115	NULL
      444	NULL	NULL	201	NULL
      444	NULL	NULL	239	NULL
