# Failed due to: https://github.com/brimdata/super/issues/6549
script: |
  super -f tsv -I q2394.sql | sort > q2394.out

vector: true

inputs:
  - name: q2394.sql
    data: |
      SELECT e,
      c,
      c-d,
      abs(a),
      (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b),
      a,
      a+b*2+c*3+d*4
      FROM t1;
  - name: t1

outputs:
  - name: q2394.out
    data: |
      109	106	-2	107	0	107	1067
      110	113	-1	NULL	1	NULL	NULL
      117	119	3	115	0	115	NULL
      126	125	-3	127	3	127	1272
      132	134	1	131	4	131	1325
      135	137	1	138	5	138	1371
      144	141	1	142	6	142	1411
      146	147	NULL	149	7	149	NULL
      157	155	NULL	159	9	159	NULL
      162	161	-3	163	10	163	1622
      165	166	NULL	168	11	168	NULL
      173	172	1	174	12	174	1714
      177	176	NULL	179	13	179	NULL
      180	184	1	182	14	182	1828
      189	187	2	188	15	188	1861
      192	193	3	191	16	191	1918
      197	195	-1	199	17	199	1964
      204	202	-1	201	0	201	NULL
      210	214	2	213	19	213	2125
      219	215	-2	216	20	216	2165
      221	224	2	220	21	220	2226
      227	225	-1	229	22	229	2264
      230	231	-2	234	23	234	2323
      237	NULL	NULL	239	24	239	NULL
      246	247	-1	245	26	245	2476
      NULL	102	1	104	0	104	NULL
      NULL	123	1	121	2	121	1226
      NULL	150	NULL	153	8	153	NULL
      NULL	208	1	NULL	18	NULL	NULL
      NULL	244	NULL	243	25	243	NULL
