script: |
  super -f tsv -I q1883.sql | sort > q1883.out

vector: true

inputs:
  - name: q1883.sql
    data: |
      SELECT e,
      c-d,
      (a+b+c+d+e)/5,
      abs(b-c),
      CASE WHEN c>(SELECT avg(c) FROM t1) THEN a*2 ELSE b*10 END,
      a+b*2+c*3+d*4+e*5,
      CASE WHEN a<b-3 THEN 111 WHEN a<=b THEN 222
      WHEN a<b+3 THEN 333 ELSE 444 END
      FROM t1
      ORDER BY 2,5,3,6,7,4,1;
  - name: t1

outputs:
  - name: q1883.out
    data: |
      109	-2	107	1	1050	1612	333
      110	-1	NULL	1	1120	NULL	444
      117	3	NULL	NULL	NULL	NULL	444
      126	-3	127	4	1290	1902	222
      132	1	132	4	1300	1985	333
      135	1	137	2	1390	2046	222
      144	1	142	2	1430	2131	222
      146	NULL	NULL	2	1450	NULL	444
      157	NULL	NULL	3	1580	NULL	333
      162	-3	162	1	1600	2432	444
      165	NULL	NULL	1	1670	NULL	333
      173	1	172	2	1700	2579	444
      177	NULL	NULL	1	358	NULL	444
      180	1	182	3	364	2728	333
      189	2	187	1	376	2806	333
      192	3	192	1	382	2878	222
      197	-1	197	3	398	2949	333
      204	-1	NULL	NULL	402	NULL	444
      210	2	212	3	426	3175	333
      219	-2	217	3	432	3260	222
      221	2	222	1	440	3331	222
      227	-1	227	3	458	3399	333
      230	-2	232	1	468	3473	333
      237	NULL	NULL	NULL	2360	NULL	444
      246	-1	247	2	490	3706	111
      NULL	1	NULL	1	1240	NULL	222
      NULL	1	NULL	2	NULL	NULL	444
      NULL	1	NULL	NULL	NULL	NULL	444
      NULL	NULL	NULL	1	1510	NULL	333
      NULL	NULL	NULL	4	486	NULL	444
