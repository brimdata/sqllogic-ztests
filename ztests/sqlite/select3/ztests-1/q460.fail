# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q460.sql | sort > q460.out

inputs:
  - name: q460.sql
    data: |
      SELECT (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b),
      CASE a+1 WHEN b THEN 111 WHEN c THEN 222
      WHEN d THEN 333  WHEN e THEN 444 ELSE 555 END,
      (SELECT count(*) FROM t1 AS x WHERE x.c>t1.c AND x.d<t1.d),
      abs(a),
      a,
      abs(b-c),
      c
      FROM t1
      WHERE EXISTS(SELECT 1 FROM t1 AS x WHERE x.b<t1.b);

outputs:
  - name: q460.out
    data: |
      1	555	0	NULL	NULL	1	113
      10	333	0	163	163	1	161
      11	555	0	168	168	1	166
      12	555	0	174	174	2	172
      13	555	0	179	179	1	176
      14	333	0	182	182	3	184
      15	444	0	188	188	1	187
      16	444	0	191	191	1	193
      17	555	0	199	199	3	195
      18	555	0	NULL	NULL	2	208
      19	222	0	213	213	3	214
      2	333	0	121	121	1	123
      20	333	0	216	216	3	215
      21	444	0	220	220	1	224
      22	555	0	229	229	3	225
      23	555	0	234	234	1	231
      24	555	0	239	239	NULL	NULL
      25	222	0	243	243	4	244
      26	444	0	245	245	2	247
      3	333	0	127	127	4	125
      4	444	0	131	131	4	134
      5	111	0	138	138	2	137
      6	111	0	142	142	2	141
      7	555	0	149	149	2	147
      8	555	0	153	153	1	150
      9	555	0	159	159	3	155
