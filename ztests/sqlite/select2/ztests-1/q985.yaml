script: |
  super -f tsv -I q985.sql | sort > q985.out

vector: true

inputs:
  - name: q985.sql
    data: |
      SELECT a-b,
      c,
      b,
      b-c,
      CASE a+1 WHEN b THEN 111 WHEN c THEN 222
      WHEN d THEN 333  WHEN e THEN 444 ELSE 555 END,
      (a+b+c+d+e)/5,
      d
      FROM t1
      WHERE coalesce(a,b,c,d,e)<>0
      OR (c<=d-2 OR c>=d+2);
  - name: t1

outputs:
  - name: q985.out
    data: |
      -1	137	139	2	111	137	136
      -1	141	143	2	111	142	140
      -2	125	129	4	333	127	128
      -2	215	218	3	333	217	217
      -3	123	124	1	333	NULL	122
      -3	193	194	1	444	192	190
      -3	224	223	-1	444	222	222
      -4	247	249	2	444	247	248
      1	134	130	-4	444	132	133
      1	155	158	3	555	NULL	NULL
      1	166	167	1	555	NULL	NULL
      1	184	181	-3	333	182	183
      1	195	198	3	555	197	196
      1	225	228	3	555	227	226
      2	106	105	-1	333	107	108
      2	150	151	1	555	NULL	NULL
      2	187	186	-1	444	187	185
      2	214	211	-3	222	212	212
      2	231	232	1	555	232	233
      3	161	160	-1	333	162	164
      3	244	240	-4	222	NULL	NULL
      3	NULL	236	NULL	555	NULL	238
      4	147	145	-2	555	NULL	NULL
      4	172	170	-2	555	172	171
      4	176	175	-1	555	NULL	NULL
      NULL	102	NULL	NULL	555	NULL	101
      NULL	113	112	-1	555	NULL	114
      NULL	119	NULL	NULL	333	NULL	116
      NULL	202	NULL	NULL	222	NULL	203
      NULL	208	206	-2	555	NULL	207
