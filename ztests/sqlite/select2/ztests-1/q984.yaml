script: |
  super -f tsv -I q984.sql | sort > q984.out

vector: true

inputs:
  - name: q984.sql
    data: |
      SELECT e,
      b-c,
      CASE a+1 WHEN b THEN 111 WHEN c THEN 222
      WHEN d THEN 333  WHEN e THEN 444 ELSE 555 END,
      CASE WHEN c>(SELECT avg(c) FROM t1) THEN a*2 ELSE b*10 END,
      a-b,
      abs(b-c),
      abs(a)
      FROM t1
      WHERE d NOT BETWEEN 110 AND 150
      OR b>c;
  - name: t1

outputs:
  - name: q984.out
    data: |
      109	-1	333	1050	2	1	107
      126	4	333	1290	-2	4	127
      135	2	111	1390	-1	2	138
      144	2	111	1430	-1	2	142
      157	3	555	1580	1	3	159
      162	-1	333	1600	3	1	163
      165	1	555	1670	1	1	168
      173	-2	555	1700	4	2	174
      180	-3	333	364	1	3	182
      189	-1	444	376	2	1	188
      192	1	444	382	-3	1	191
      197	3	555	398	1	3	199
      204	NULL	222	402	NULL	NULL	201
      210	-3	222	426	2	3	213
      219	3	333	432	-2	3	216
      221	-1	444	440	-3	1	220
      227	3	555	458	1	3	229
      230	1	555	468	2	1	234
      237	NULL	555	2360	3	NULL	239
      246	2	444	490	-4	2	245
      NULL	-2	555	NULL	NULL	2	NULL
      NULL	1	333	1240	-3	1	121
      NULL	1	555	1510	2	1	153
      NULL	NULL	555	NULL	NULL	NULL	104
