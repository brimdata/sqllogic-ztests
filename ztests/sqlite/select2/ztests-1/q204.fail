# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q204.sql | sort > q204.out

inputs:
  - name: q204.sql
    data: |
      SELECT c,
      a+b*2,
      (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b),
      c-d
      FROM t1
      WHERE b>c
      OR c>d
      OR a>b;
  - name: t1

outputs:
  - name: q204.out
    data: |
      102	NULL	0	1
      106	317	0	-2
      119	NULL	0	3
      123	369	2	1
      125	385	3	-3
      134	391	4	1
      137	416	5	1
      141	428	6	1
      147	439	7	NULL
      150	455	8	NULL
      155	475	9	NULL
      161	483	10	-3
      166	502	11	NULL
      172	514	12	1
      176	529	13	NULL
      184	544	14	1
      187	560	15	2
      193	579	16	3
      195	595	17	-1
      208	NULL	18	1
      214	635	19	2
      215	652	20	-2
      224	666	21	2
      225	685	22	-1
      231	698	23	-2
      244	723	25	NULL
      247	743	26	-1
      NULL	711	24	NULL
