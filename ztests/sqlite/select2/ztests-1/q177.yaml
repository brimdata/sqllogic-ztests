script: |
  super -f tsv -I q177.sql | sort > q177.out

vector: true

inputs:
  - name: q177.sql
    data: |
      SELECT b-c,
      CASE WHEN c>(SELECT avg(c) FROM t1) THEN a*2 ELSE b*10 END,
      CASE WHEN a<b-3 THEN 111 WHEN a<=b THEN 222
      WHEN a<b+3 THEN 333 ELSE 444 END,
      c-d,
      e,
      b
      FROM t1
      WHERE e+d BETWEEN a+b-10 AND c+130
      OR a IS NULL
      OR c BETWEEN b-2 AND d+2;
  - name: t1

outputs:
  - name: q177.out
    data: |
      -1	1050	333	-2	109	105
      -1	1120	444	-1	110	112
      -1	1600	444	-3	162	160
      -1	376	333	2	189	186
      -1	440	222	2	221	223
      -2	1700	444	1	173	170
      -2	NULL	444	1	NULL	206
      -3	364	333	1	180	181
      -3	426	333	2	210	211
      -4	1300	333	1	132	130
      1	1240	222	1	NULL	124
      1	468	333	-2	230	232
      2	1390	222	1	135	139
      2	1430	222	1	144	143
      2	490	111	-1	246	249
      4	1290	222	-3	126	129
