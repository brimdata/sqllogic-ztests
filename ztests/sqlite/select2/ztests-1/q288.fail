# Failed due to: https://github.com/brimdata/super/issues/6549
script: |
  super -f tsv -I q288.sql | sort > q288.out

vector: true

inputs:
  - name: q288.sql
    data: |
      SELECT (SELECT count(*) FROM t1 AS x WHERE x.c>t1.c AND x.d<t1.d),
      d-e,
      b-c,
      a,
      c,
      CASE a+1 WHEN b THEN 111 WHEN c THEN 222
      WHEN d THEN 333  WHEN e THEN 444 ELSE 555 END
      FROM t1;
  - name: t1

outputs:
  - name: q288.out
    data: |
      0	-1	-1	107	106	333
      0	-1	3	199	195	555
      0	-1	3	229	225	555
      0	-1	NULL	115	119	333
      0	-1	NULL	201	202	222
      0	-2	-2	174	172	555
      0	-2	1	191	193	444
      0	-2	3	216	215	333
      0	-4	-1	188	187	444
      0	-4	2	142	141	111
      0	1	-1	220	224	444
      0	1	-4	131	134	444
      0	1	2	138	137	111
      0	1	NULL	239	NULL	555
      0	2	-1	163	161	333
      0	2	-3	213	214	222
      0	2	2	245	247	444
      0	2	4	127	125	333
      0	3	-3	182	184	333
      0	3	1	234	231	555
      0	4	-1	NULL	113	555
      0	NULL	-1	179	176	555
      0	NULL	-2	149	147	555
      0	NULL	-2	NULL	208	555
      0	NULL	-4	243	244	222
      0	NULL	1	121	123	333
      0	NULL	1	153	150	555
      0	NULL	1	168	166	555
      0	NULL	3	159	155	555
      0	NULL	NULL	104	102	555
