# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q191.sql | sort > q191.out

vector: true

inputs:
  - name: q191.sql
    data: |
      SELECT a+b*2+c*3+d*4,
      b,
      a-b,
      e,
      c,
      (SELECT count(*) FROM t1 AS x WHERE x.c>t1.c AND x.d<t1.d)
      FROM t1
      WHERE a>b
      OR b IS NOT NULL;
  - name: t1

outputs:
  - name: q191.out
    data: |
      1067	105	2	109	106	0
      1226	124	-3	NULL	123	0
      1272	129	-2	126	125	0
      1325	130	1	132	134	0
      1371	139	-1	135	137	0
      1411	143	-1	144	141	0
      1622	160	3	162	161	0
      1714	170	4	173	172	0
      1828	181	1	180	184	0
      1861	186	2	189	187	0
      1918	194	-3	192	193	0
      1964	198	1	197	195	0
      2125	211	2	210	214	0
      2165	218	-2	219	215	0
      2226	223	-3	221	224	0
      2264	228	1	227	225	0
      2323	232	2	230	231	0
      2476	249	-4	246	247	0
      NULL	112	NULL	110	113	0
      NULL	145	4	146	147	0
      NULL	151	2	NULL	150	0
      NULL	158	1	157	155	0
      NULL	167	1	165	166	0
      NULL	175	4	177	176	0
      NULL	206	NULL	NULL	208	0
      NULL	236	3	237	NULL	0
      NULL	240	3	NULL	244	0
