# Failed due to: https://github.com/brimdata/super/issues/6549
script: |
  super -f tsv -I q777.sql | sort > q777.out

vector: true

inputs:
  - name: q777.sql
    data: |
      SELECT d,
      (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b),
      CASE a+1 WHEN b THEN 111 WHEN c THEN 222
      WHEN d THEN 333  WHEN e THEN 444 ELSE 555 END,
      c,
      a+b*2+c*3,
      b
      FROM t1
      WHERE b>c
      OR c>d;
  - name: t1

outputs:
  - name: q777.out
    data: |
      101	0	555	102	NULL	NULL
      116	0	333	119	NULL	NULL
      122	2	333	123	738	124
      128	3	333	125	760	129
      133	4	444	134	793	130
      136	5	111	137	827	139
      140	6	111	141	851	143
      171	12	555	172	1030	170
      183	14	333	184	1096	181
      185	15	444	187	1121	186
      190	16	444	193	1158	194
      196	17	555	195	1180	198
      207	18	555	208	NULL	206
      212	19	222	214	1277	211
      217	20	333	215	1297	218
      222	21	444	224	1338	223
      226	22	555	225	1360	228
      233	23	555	231	1391	232
      248	26	444	247	1484	249
      NULL	11	555	166	1000	167
      NULL	8	555	150	905	151
      NULL	9	555	155	940	158
