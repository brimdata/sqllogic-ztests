# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q284.sql | sort > q284.out

inputs:
  - name: q284.sql
    data: |
      SELECT b,
      e,
      a+b*2+c*3+d*4+e*5,
      d-e,
      (SELECT count(*) FROM t1 AS x WHERE x.c>t1.c AND x.d<t1.d),
      CASE WHEN a<b-3 THEN 111 WHEN a<=b THEN 222
      WHEN a<b+3 THEN 333 ELSE 444 END
      FROM t1;
  - name: t1

outputs:
  - name: q284.out
    data: |
      105	109	1612	-1	0	333
      112	110	NULL	4	0	444
      124	NULL	NULL	NULL	0	222
      129	126	1902	2	0	222
      130	132	1985	1	0	333
      139	135	2046	1	0	222
      143	144	2131	-4	0	222
      145	146	NULL	NULL	0	444
      151	NULL	NULL	NULL	0	333
      158	157	NULL	NULL	0	333
      160	162	2432	2	0	444
      167	165	NULL	NULL	0	333
      170	173	2579	-2	0	444
      175	177	NULL	NULL	0	444
      181	180	2728	3	0	333
      186	189	2806	-4	0	333
      194	192	2878	-2	0	222
      198	197	2949	-1	0	333
      206	NULL	NULL	NULL	0	444
      211	210	3175	2	0	333
      218	219	3260	-2	0	222
      223	221	3331	1	0	222
      228	227	3399	-1	0	333
      232	230	3473	3	0	333
      236	237	NULL	1	0	444
      240	NULL	NULL	NULL	0	444
      249	246	3706	2	0	111
      NULL	117	NULL	-1	0	444
      NULL	204	NULL	-1	0	444
      NULL	NULL	NULL	NULL	0	444
