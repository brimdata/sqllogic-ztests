# Failed due to: https://github.com/brimdata/super/issues/6549
script: |
  super -f tsv -I q178.sql | sort > q178.out

vector: true

inputs:
  - name: q178.sql
    data: |
      SELECT (SELECT count(*) FROM t1 AS x WHERE x.c>t1.c AND x.d<t1.d),
      abs(a),
      a+b*2,
      a
      FROM t1;
  - name: t1

outputs:
  - name: q178.out
    data: |
      0	104	NULL	104
      0	107	317	107
      0	115	NULL	115
      0	121	369	121
      0	127	385	127
      0	131	391	131
      0	138	416	138
      0	142	428	142
      0	149	439	149
      0	153	455	153
      0	159	475	159
      0	163	483	163
      0	168	502	168
      0	174	514	174
      0	179	529	179
      0	182	544	182
      0	188	560	188
      0	191	579	191
      0	199	595	199
      0	201	NULL	201
      0	213	635	213
      0	216	652	216
      0	220	666	220
      0	229	685	229
      0	234	698	234
      0	239	711	239
      0	243	723	243
      0	245	743	245
      0	NULL	NULL	NULL
      0	NULL	NULL	NULL
