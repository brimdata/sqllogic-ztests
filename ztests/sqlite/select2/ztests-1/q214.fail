# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q214.sql | sort > q214.out

vector: true

inputs:
  - name: q214.sql
    data: |
      SELECT d,
      (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b),
      a,
      c,
      e,
      a+b*2+c*3
      FROM t1;
  - name: t1

outputs:
  - name: q214.out
    data: |
      101	0	104	102	NULL	NULL
      108	0	107	106	109	635
      114	1	NULL	113	110	NULL
      116	0	115	119	117	NULL
      122	2	121	123	NULL	738
      128	3	127	125	126	760
      133	4	131	134	132	793
      136	5	138	137	135	827
      140	6	142	141	144	851
      164	10	163	161	162	966
      171	12	174	172	173	1030
      183	14	182	184	180	1096
      185	15	188	187	189	1121
      190	16	191	193	192	1158
      196	17	199	195	197	1180
      203	0	201	202	204	NULL
      207	18	NULL	208	NULL	NULL
      212	19	213	214	210	1277
      217	20	216	215	219	1297
      222	21	220	224	221	1338
      226	22	229	225	227	1360
      233	23	234	231	230	1391
      238	24	239	NULL	237	NULL
      248	26	245	247	246	1484
      NULL	11	168	166	165	1000
      NULL	13	179	176	177	1057
      NULL	25	243	244	NULL	1455
      NULL	7	149	147	146	880
      NULL	8	153	150	NULL	905
      NULL	9	159	155	157	940
