# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q348.sql | sort > q348.out

inputs:
  - name: q348.sql
    data: |
      SELECT e,
      (SELECT count(*) FROM t1 AS x WHERE x.c>t1.c AND x.d<t1.d),
      a+b*2,
      d-e,
      abs(a),
      a+b*2+c*3
      FROM t1
      WHERE b>c
      OR a>b;

outputs:
  - name: q348.out
    data: |
      109	0	317	-1	107	635
      126	0	385	2	127	760
      132	0	391	1	131	793
      135	0	416	1	138	827
      144	0	428	-4	142	851
      146	0	439	NULL	149	880
      157	0	475	NULL	159	940
      162	0	483	2	163	966
      165	0	502	NULL	168	1000
      173	0	514	-2	174	1030
      177	0	529	NULL	179	1057
      180	0	544	3	182	1096
      189	0	560	-4	188	1121
      192	0	579	-2	191	1158
      197	0	595	-1	199	1180
      210	0	635	2	213	1277
      219	0	652	-2	216	1297
      227	0	685	-1	229	1360
      230	0	698	3	234	1391
      237	0	711	1	239	NULL
      246	0	743	2	245	1484
      NULL	0	369	NULL	121	738
      NULL	0	455	NULL	153	905
      NULL	0	723	NULL	243	1455
