# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q10.sql | sort > q10.out

vector: true

inputs:
  - name: q10.sql
    data: |
      SELECT e,
      b,
      a,
      a+b*2+c*3+d*4+e*5,
      (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b),
      a-b,
      (a+b+c+d+e)/5
      FROM t1
      WHERE b IS NOT NULL
      AND coalesce(a,b,c,d,e)<>0;
  - name: t1

outputs:
  - name: q10.out
    data: |
      109	105	107	1612	0	2	107
      110	112	NULL	NULL	1	NULL	NULL
      126	129	127	1902	3	-2	127
      132	130	131	1985	4	1	132
      135	139	138	2046	5	-1	137
      144	143	142	2131	6	-1	142
      146	145	149	NULL	7	4	NULL
      157	158	159	NULL	9	1	NULL
      162	160	163	2432	10	3	162
      165	167	168	NULL	11	1	NULL
      173	170	174	2579	12	4	172
      177	175	179	NULL	13	4	NULL
      180	181	182	2728	14	1	182
      189	186	188	2806	15	2	187
      192	194	191	2878	16	-3	192
      197	198	199	2949	17	1	197
      210	211	213	3175	19	2	212
      219	218	216	3260	20	-2	217
      221	223	220	3331	21	-3	222
      227	228	229	3399	22	1	227
      230	232	234	3473	23	2	232
      237	236	239	NULL	24	3	NULL
      246	249	245	3706	26	-4	247
      NULL	124	121	NULL	2	-3	NULL
      NULL	151	153	NULL	8	2	NULL
      NULL	206	NULL	NULL	18	NULL	NULL
      NULL	240	243	NULL	25	3	NULL
