# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q873.sql | sort > q873.out

vector: true

inputs:
  - name: q873.sql
    data: |
      SELECT b,
      (SELECT count(*) FROM t1 AS x WHERE x.c>t1.c AND x.d<t1.d),
      a+b*2
      FROM t1;
  - name: t1

outputs:
  - name: q873.out
    data: |
      105	0	317
      112	0	NULL
      124	0	369
      129	0	385
      130	0	391
      139	0	416
      143	0	428
      145	0	439
      151	0	455
      158	0	475
      160	0	483
      167	0	502
      170	0	514
      175	0	529
      181	0	544
      186	0	560
      194	0	579
      198	0	595
      206	0	NULL
      211	0	635
      218	0	652
      223	0	666
      228	0	685
      232	0	698
      236	0	711
      240	0	723
      249	0	743
      NULL	0	NULL
      NULL	0	NULL
      NULL	0	NULL
