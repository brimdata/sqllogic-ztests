script: |
  super -f tsv -I q773.sql | sort > q773.out

vector: true

inputs:
  - name: q773.sql
    data: |
      SELECT CASE WHEN a<b-3 THEN 111 WHEN a<=b THEN 222
      WHEN a<b+3 THEN 333 ELSE 444 END,
      CASE WHEN c>(SELECT avg(c) FROM t1) THEN a*2 ELSE b*10 END,
      e,
      a
      FROM t1;
  - name: t1

outputs:
  - name: q773.out
    data: |
      111	490	246	245
      222	1240	NULL	121
      222	1290	126	127
      222	1390	135	138
      222	1430	144	142
      222	382	192	191
      222	432	219	216
      222	440	221	220
      333	1050	109	107
      333	1300	132	131
      333	1510	NULL	153
      333	1580	157	159
      333	1670	165	168
      333	364	180	182
      333	376	189	188
      333	398	197	199
      333	426	210	213
      333	458	227	229
      333	468	230	234
      444	1120	110	NULL
      444	1450	146	149
      444	1600	162	163
      444	1700	173	174
      444	2360	237	239
      444	358	177	179
      444	402	204	201
      444	486	NULL	243
      444	NULL	117	115
      444	NULL	NULL	104
      444	NULL	NULL	NULL
