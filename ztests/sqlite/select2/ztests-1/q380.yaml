script: |
  super -f tsv -I q380.sql | sort > q380.out

vector: true

inputs:
  - name: q380.sql
    data: |
      SELECT a+b*2+c*3+d*4+e*5,
      CASE WHEN c>(SELECT avg(c) FROM t1) THEN a*2 ELSE b*10 END,
      e,
      d,
      a+b*2+c*3+d*4
      FROM t1
      WHERE (c<=d-2 OR c>=d+2)
      OR (e>a AND e<b)
      OR b IS NOT NULL;
  - name: t1

outputs:
  - name: q380.out
    data: |
      1612	1050	109	108	1067
      1902	1290	126	128	1272
      1985	1300	132	133	1325
      2046	1390	135	136	1371
      2131	1430	144	140	1411
      2432	1600	162	164	1622
      2579	1700	173	171	1714
      2728	364	180	183	1828
      2806	376	189	185	1861
      2878	382	192	190	1918
      2949	398	197	196	1964
      3175	426	210	212	2125
      3260	432	219	217	2165
      3331	440	221	222	2226
      3399	458	227	226	2264
      3473	468	230	233	2323
      3706	490	246	248	2476
      NULL	1120	110	114	NULL
      NULL	1240	NULL	122	1226
      NULL	1450	146	NULL	NULL
      NULL	1510	NULL	NULL	NULL
      NULL	1580	157	NULL	NULL
      NULL	1670	165	NULL	NULL
      NULL	2360	237	238	NULL
      NULL	358	177	NULL	NULL
      NULL	486	NULL	NULL	NULL
      NULL	NULL	117	116	NULL
      NULL	NULL	NULL	207	NULL
