script: |
  super -f tsv -I q901.sql | sort > q901.out

vector: true

inputs:
  - name: q901.sql
    data: |
      SELECT a,
      (a+b+c+d+e)/5,
      b-c,
      a+b*2,
      CASE WHEN a<b-3 THEN 111 WHEN a<=b THEN 222
      WHEN a<b+3 THEN 333 ELSE 444 END
      FROM t1
      WHERE (e>c OR e<d);
  - name: t1

outputs:
  - name: q901.out
    data: |
      107	107	-1	317	333
      127	127	4	385	222
      131	132	-4	391	333
      138	137	2	416	222
      142	142	2	428	222
      159	NULL	3	475	333
      163	162	-1	483	444
      174	172	-2	514	444
      179	NULL	-1	529	444
      182	182	-3	544	333
      188	187	-1	560	333
      199	197	3	595	333
      201	NULL	NULL	NULL	444
      213	212	-3	635	333
      216	217	3	652	222
      220	222	-1	666	222
      229	227	3	685	333
      234	232	1	698	333
      239	NULL	NULL	711	444
      245	247	2	743	111
      NULL	NULL	-1	NULL	444
