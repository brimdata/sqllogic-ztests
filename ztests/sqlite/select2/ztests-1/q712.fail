# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q712.sql | sort > q712.out

vector: true

inputs:
  - name: q712.sql
    data: |
      SELECT a,
      a+b*2,
      a+b*2+c*3,
      b,
      abs(b-c),
      c-d,
      (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b)
      FROM t1;
  - name: t1

outputs:
  - name: q712.out
    data: |
      104	NULL	NULL	NULL	NULL	1	0
      107	317	635	105	1	-2	0
      115	NULL	NULL	NULL	NULL	3	0
      121	369	738	124	1	1	2
      127	385	760	129	4	-3	3
      131	391	793	130	4	1	4
      138	416	827	139	2	1	5
      142	428	851	143	2	1	6
      149	439	880	145	2	NULL	7
      153	455	905	151	1	NULL	8
      159	475	940	158	3	NULL	9
      163	483	966	160	1	-3	10
      168	502	1000	167	1	NULL	11
      174	514	1030	170	2	1	12
      179	529	1057	175	1	NULL	13
      182	544	1096	181	3	1	14
      188	560	1121	186	1	2	15
      191	579	1158	194	1	3	16
      199	595	1180	198	3	-1	17
      201	NULL	NULL	NULL	NULL	-1	0
      213	635	1277	211	3	2	19
      216	652	1297	218	3	-2	20
      220	666	1338	223	1	2	21
      229	685	1360	228	3	-1	22
      234	698	1391	232	1	-2	23
      239	711	NULL	236	NULL	NULL	24
      243	723	1455	240	4	NULL	25
      245	743	1484	249	2	-1	26
      NULL	NULL	NULL	112	1	-1	1
      NULL	NULL	NULL	206	2	1	18
