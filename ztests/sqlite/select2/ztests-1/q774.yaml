script: |
  super -f tsv -I q774.sql | sort > q774.out

vector: true

inputs:
  - name: q774.sql
    data: |
      SELECT b-c,
      e,
      CASE WHEN c>(SELECT avg(c) FROM t1) THEN a*2 ELSE b*10 END
      FROM t1
      WHERE (c<=d-2 OR c>=d+2)
      OR c>d;
  - name: t1

outputs:
  - name: q774.out
    data: |
      -1	109	1050
      -1	162	1600
      -1	189	376
      -1	221	440
      -2	173	1700
      -2	NULL	NULL
      -3	180	364
      -3	210	426
      -4	132	1300
      1	192	382
      1	230	468
      1	NULL	1240
      2	135	1390
      2	144	1430
      3	219	432
      4	126	1290
      NULL	117	NULL
      NULL	NULL	NULL
