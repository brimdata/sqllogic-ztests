# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q235.sql | sort > q235.out

vector: true

inputs:
  - name: q235.sql
    data: |
      SELECT a+b*2,
      (a+b+c+d+e)/5,
      c,
      (SELECT count(*) FROM t1 AS x WHERE x.c>t1.c AND x.d<t1.d),
      (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b),
      abs(b-c),
      e
      FROM t1
      WHERE a>b
      OR a IS NULL
      OR b IS NOT NULL;
  - name: t1

outputs:
  - name: q235.out
    data: |
      317	107	106	0	0	1	109
      369	NULL	123	0	2	1	NULL
      385	127	125	0	3	4	126
      391	132	134	0	4	4	132
      416	137	137	0	5	2	135
      428	142	141	0	6	2	144
      439	NULL	147	0	7	2	146
      455	NULL	150	0	8	1	NULL
      475	NULL	155	0	9	3	157
      483	162	161	0	10	1	162
      502	NULL	166	0	11	1	165
      514	172	172	0	12	2	173
      529	NULL	176	0	13	1	177
      544	182	184	0	14	3	180
      560	187	187	0	15	1	189
      579	192	193	0	16	1	192
      595	197	195	0	17	3	197
      635	212	214	0	19	3	210
      652	217	215	0	20	3	219
      666	222	224	0	21	1	221
      685	227	225	0	22	3	227
      698	232	231	0	23	1	230
      711	NULL	NULL	0	24	NULL	237
      723	NULL	244	0	25	4	NULL
      743	247	247	0	26	2	246
      NULL	NULL	113	0	1	1	110
      NULL	NULL	208	0	18	2	NULL
