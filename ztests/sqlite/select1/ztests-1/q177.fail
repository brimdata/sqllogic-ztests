# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q177.sql > q177.out

inputs:
  - name: q177.sql
    data: |
      SELECT (a+b+c+d+e)/5,
      abs(a),
      CASE a+1 WHEN b THEN 111 WHEN c THEN 222
      WHEN d THEN 333  WHEN e THEN 444 ELSE 555 END,
      a-b,
      a,
      (SELECT count(*) FROM t1 AS x WHERE x.c>t1.c AND x.d<t1.d),
      a+b*2+c*3+d*4+e*5
      FROM t1
      ORDER BY 3,5,1,2,7,4,6;

outputs:
  - name: q177.out
    data: |
      112	111	111	-1	111	0	1680
      137	138	111	-1	138	0	2046
      142	142	111	-1	142	0	2131
      207	205	111	-1	205	0	3114
      202	201	222	1	201	0	3039
      212	213	222	2	213	0	3175
      242	243	222	3	243	0	3629
      107	107	333	2	107	0	1612
      117	115	333	-3	115	0	1757
      122	121	333	-3	121	0	1826
      127	127	333	-2	127	0	1902
      152	153	333	2	153	0	2281
      162	163	333	3	163	0	2432
      167	168	333	1	168	0	2501
      182	182	333	1	182	0	2728
      217	216	333	-2	216	0	3260
      132	131	444	1	131	0	1985
      187	188	444	2	188	0	2806
      192	191	444	-3	191	0	2878
      222	220	444	-3	220	0	3331
      247	245	444	-4	245	0	3706
      102	104	555	4	104	0	1529
      147	149	555	4	149	0	2202
      157	159	555	1	159	0	2349
      172	174	555	4	174	0	2579
      177	179	555	4	179	0	2654
      197	199	555	1	199	0	2949
      227	229	555	1	229	0	3399
      232	234	555	2	234	0	3473
      237	239	555	3	239	0	3553
