# Failed due to: https://github.com/brimdata/super/issues/6549
script: |
  super -f tsv -I q247.sql > q247.out

vector: true

inputs:
  - name: q247.sql
    data: |
      SELECT a,
      a+b*2+c*3,
      a+b*2+c*3+d*4+e*5,
      c-d,
      (SELECT count(*) FROM t1 AS x WHERE x.c>t1.c AND x.d<t1.d),
      d
      FROM t1
      WHERE e+d BETWEEN a+b-10 AND c+130
      OR d NOT BETWEEN 110 AND 150
      ORDER BY 2,4,5,6,1,3;
  - name: t1

outputs:
  - name: q247.out
    data: |
      104	610	1529	1	0	101
      107	635	1612	-2	0	108
      111	674	1680	-1	0	114
      115	708	1757	3	0	116
      121	738	1826	1	0	122
      127	760	1902	-3	0	128
      153	905	2281	-4	0	154
      159	940	2349	-1	0	156
      163	966	2432	-3	0	164
      168	1000	2501	-3	0	169
      174	1030	2579	1	0	171
      179	1057	2654	-2	0	178
      182	1096	2728	1	0	183
      188	1121	2806	2	0	185
      191	1158	2878	3	0	190
      199	1180	2949	-1	0	196
      201	1207	3039	-1	0	203
      205	1241	3114	1	0	207
      213	1277	3175	2	0	212
      216	1297	3260	-2	0	217
      220	1338	3331	2	0	222
      229	1360	3399	-1	0	226
      234	1391	3473	-2	0	233
      239	1416	3553	-3	0	238
      243	1455	3629	3	0	241
      245	1484	3706	-1	0	248
