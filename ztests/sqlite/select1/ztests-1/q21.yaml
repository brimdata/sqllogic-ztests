script: |
  super -f tsv -I q21.sql > q21.out

vector: true

inputs:
  - name: q21.sql
    data: |
      SELECT CASE WHEN a<b-3 THEN 111 WHEN a<=b THEN 222
      WHEN a<b+3 THEN 333 ELSE 444 END,
      a+b*2+c*3,
      a+b*2+c*3+d*4+e*5,
      (a+b+c+d+e)/5,
      a+b*2+c*3+d*4,
      b-c,
      c
      FROM t1
      WHERE d NOT BETWEEN 110 AND 150
      ORDER BY 2,5,1,7,3,6,4;
  - name: t1

outputs:
  - name: q21.out
    data: |
      444	610	1529	102	1014	-2	102
      333	635	1612	107	1067	-1	106
      333	905	2281	152	1521	1	150
      333	940	2349	157	1564	3	155
      444	966	2432	162	1622	-1	161
      333	1000	2501	167	1676	1	166
      444	1030	2579	172	1714	-2	172
      444	1057	2654	177	1769	-1	176
      333	1096	2728	182	1828	-3	184
      333	1121	2806	187	1861	-1	187
      222	1158	2878	192	1918	1	193
      333	1180	2949	197	1964	3	195
      333	1207	3039	202	2019	-2	202
      222	1241	3114	207	2069	-2	208
      333	1277	3175	212	2125	-3	214
      222	1297	3260	217	2165	3	215
      222	1338	3331	222	2226	-1	224
      333	1360	3399	227	2264	3	225
      333	1391	3473	232	2323	1	231
      444	1416	3553	237	2368	1	235
      444	1455	3629	242	2419	-4	244
      111	1484	3706	247	2476	2	247
