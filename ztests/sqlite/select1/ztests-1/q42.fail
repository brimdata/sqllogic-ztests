# Failed due to: https://github.com/brimdata/super/issues/6549
script: |
  super -f tsv -I q42.sql > q42.out

vector: true

inputs:
  - name: q42.sql
    data: |
      SELECT CASE a+1 WHEN b THEN 111 WHEN c THEN 222
      WHEN d THEN 333  WHEN e THEN 444 ELSE 555 END,
      (SELECT count(*) FROM t1 AS x WHERE x.c>t1.c AND x.d<t1.d),
      d-e,
      b,
      (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b),
      a+b*2
      FROM t1
      WHERE EXISTS(SELECT 1 FROM t1 AS x WHERE x.b<t1.b)
      OR (a>b-2 AND a<b+2)
      ORDER BY 2,6,3,5,4,1;
  - name: t1

outputs:
  - name: q42.out
    data: |
      333	0	-1	105	1	317
      111	0	4	112	2	335
      333	0	-1	118	3	351
      333	0	2	124	4	369
      333	0	2	129	5	385
      444	0	1	130	6	391
      111	0	1	139	7	416
      111	0	-4	143	8	428
      555	0	2	145	9	439
      333	0	2	151	10	455
      555	0	-1	158	11	475
      333	0	2	160	12	483
      333	0	4	167	13	502
      555	0	-2	170	14	514
      555	0	1	175	15	529
      333	0	3	181	16	544
      444	0	-4	186	17	560
      444	0	-2	194	18	579
      555	0	-1	198	19	595
      222	0	-1	200	20	601
      111	0	-2	206	21	617
      222	0	2	211	22	635
      333	0	-2	218	23	652
      444	0	1	223	24	666
      555	0	-1	228	25	685
      555	0	3	232	26	698
      555	0	1	236	27	711
      222	0	-1	240	28	723
      444	0	2	249	29	743
