# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q568.sql > q568.out

inputs:
  - name: q568.sql
    data: |
      SELECT a+b*2,
      a+b*2+c*3+d*4,
      CASE WHEN a<b-3 THEN 111 WHEN a<=b THEN 222
      WHEN a<b+3 THEN 333 ELSE 444 END,
      b,
      c-d,
      a+b*2+c*3+d*4+e*5
      FROM t1
      WHERE (e>c OR e<d)
      OR EXISTS(SELECT 1 FROM t1 AS x WHERE x.b<t1.b)
      ORDER BY 3,5,2,1,4,6;
  - name: t1

outputs:
  - name: q568.out
    data: |
      743	2476	111	249	-1	3706
      385	1272	222	129	-3	1902
      652	2165	222	218	-2	3260
      335	1130	222	112	-1	1680
      369	1226	222	124	1	1826
      416	1371	222	139	1	2046
      428	1411	222	143	1	2131
      617	2069	222	206	1	3114
      666	2226	222	223	2	3331
      351	1172	222	118	3	1757
      579	1918	222	194	3	2878
      455	1521	333	151	-4	2281
      502	1676	333	167	-3	2501
      317	1067	333	105	-2	1612
      698	2323	333	232	-2	3473
      475	1564	333	158	-1	2349
      595	1964	333	198	-1	2949
      601	2019	333	200	-1	3039
      685	2264	333	228	-1	3399
      391	1325	333	130	1	1985
      544	1828	333	181	1	2728
      560	1861	333	186	2	2806
      635	2125	333	211	2	3175
      483	1622	444	160	-3	2432
      711	2368	444	236	-3	3553
      529	1769	444	175	-2	2654
      439	1472	444	145	-1	2202
      304	1014	444	100	1	1529
      514	1714	444	170	1	2579
      723	2419	444	240	3	3629
