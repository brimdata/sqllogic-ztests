# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q811.sql > q811.out

inputs:
  - name: q811.sql
    data: |
      SELECT a+b*2+c*3+d*4+e*5,
      d-e,
      CASE a+1 WHEN b THEN 111 WHEN c THEN 222
      WHEN d THEN 333  WHEN e THEN 444 ELSE 555 END,
      (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b)
      FROM t1
      WHERE b>c
      OR d NOT BETWEEN 110 AND 150
      OR (e>a AND e<b)
      ORDER BY 4,3,1,2;

outputs:
  - name: q811.out
    data: |
      1529	-2	555	0
      1612	-1	333	1
      1757	-1	333	3
      1826	2	333	4
      1902	2	333	5
      2046	1	111	7
      2131	-4	111	8
      2281	2	333	10
      2349	-1	555	11
      2432	2	333	12
      2501	4	333	13
      2579	-2	555	14
      2654	1	555	15
      2728	3	333	16
      2806	-4	444	17
      2878	-2	444	18
      2949	-1	555	19
      3039	-1	222	20
      3114	-2	111	21
      3175	2	222	22
      3260	-2	333	23
      3331	1	444	24
      3399	-1	555	25
      3473	3	555	26
      3553	1	555	27
      3629	-1	222	28
      3706	2	444	29
