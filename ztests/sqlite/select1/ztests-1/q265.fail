# Failed due to: https://github.com/brimdata/super/issues/6549
script: |
  super -f tsv -I q265.sql > q265.out

vector: true

inputs:
  - name: q265.sql
    data: |
      SELECT (SELECT count(*) FROM t1 AS x WHERE x.c>t1.c AND x.d<t1.d),
      CASE WHEN c>(SELECT avg(c) FROM t1) THEN a*2 ELSE b*10 END,
      e,
      abs(a),
      c-d,
      a,
      b-c
      FROM t1
      WHERE (a>b-2 AND a<b+2)
      OR (c<=d-2 OR c>=d+2)
      OR d NOT BETWEEN 110 AND 150
      ORDER BY 7,1,5,3,4,6,2;
  - name: t1

outputs:
  - name: q265.out
    data: |
      0	1300	132	131	1	131	-4
      0	486	242	243	3	243	-4
      0	364	180	182	1	182	-3
      0	426	210	213	2	213	-3
      0	402	204	201	-1	201	-2
      0	1000	103	104	1	104	-2
      0	1700	173	174	1	174	-2
      0	410	209	205	1	205	-2
      0	1600	162	163	-3	163	-1
      0	1050	109	107	-2	107	-1
      0	358	177	179	-2	179	-1
      0	1120	110	111	-1	111	-1
      0	376	189	188	2	188	-1
      0	440	221	220	2	220	-1
      0	1180	117	115	3	115	-1
      0	1510	152	153	-4	153	1
      0	1670	165	168	-3	168	1
      0	478	237	239	-3	239	1
      0	468	230	234	-2	234	1
      0	382	192	191	3	191	1
      0	490	246	245	-1	245	2
      0	1390	135	138	1	138	2
      0	1430	144	142	1	142	2
      0	432	219	216	-2	216	3
      0	1580	157	159	-1	159	3
      0	398	197	199	-1	199	3
      0	458	227	229	-1	229	3
      0	1290	126	127	-3	127	4
