script: |
  super -f tsv -I q351.sql > q351.out

vector: true

inputs:
  - name: q351.sql
    data: |
      SELECT abs(a),
      CASE WHEN c>(SELECT avg(c) FROM t1) THEN a*2 ELSE b*10 END,
      b,
      b-c
      FROM t1
      WHERE (c<=d-2 OR c>=d+2)
      ORDER BY 3,1,2,4;
  - name: t1

outputs:
  - name: q351.out
    data: |
      107	1050	105	-1
      115	1180	118	-1
      127	1290	129	4
      153	1510	151	1
      163	1600	160	-1
      168	1670	167	1
      179	358	175	-1
      188	376	186	-1
      191	382	194	1
      213	426	211	-3
      216	432	218	3
      220	440	223	-1
      234	468	232	1
      239	478	236	1
      243	486	240	-4
