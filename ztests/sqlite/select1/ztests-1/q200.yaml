script: |
  super -f tsv -I q200.sql > q200.out

vector: true

inputs:
  - name: q200.sql
    data: |
      SELECT CASE WHEN c>(SELECT avg(c) FROM t1) THEN a*2 ELSE b*10 END,
      a+b*2+c*3+d*4,
      CASE a+1 WHEN b THEN 111 WHEN c THEN 222
      WHEN d THEN 333  WHEN e THEN 444 ELSE 555 END,
      a+b*2+c*3+d*4+e*5,
      c-d
      FROM t1
      ORDER BY 4,1,2,3,5;
  - name: t1

outputs:
  - name: q200.out
    data: |
      1000	1014	555	1529	1
      1050	1067	333	1612	-2
      1120	1130	111	1680	-1
      1180	1172	333	1757	3
      1240	1226	333	1826	1
      1290	1272	333	1902	-3
      1300	1325	444	1985	1
      1390	1371	111	2046	1
      1430	1411	111	2131	1
      1450	1472	555	2202	-1
      1510	1521	333	2281	-4
      1580	1564	555	2349	-1
      1600	1622	333	2432	-3
      1670	1676	333	2501	-3
      1700	1714	555	2579	1
      358	1769	555	2654	-2
      364	1828	333	2728	1
      376	1861	444	2806	2
      382	1918	444	2878	3
      398	1964	555	2949	-1
      402	2019	222	3039	-1
      410	2069	111	3114	1
      426	2125	222	3175	2
      432	2165	333	3260	-2
      440	2226	444	3331	2
      458	2264	555	3399	-1
      468	2323	555	3473	-2
      478	2368	555	3553	-3
      486	2419	222	3629	3
      490	2476	444	3706	-1
