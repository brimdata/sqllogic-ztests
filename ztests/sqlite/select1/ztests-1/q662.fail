# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q662.sql > q662.out

inputs:
  - name: q662.sql
    data: |
      SELECT a+b*2+c*3,
      b,
      (SELECT count(*) FROM t1 AS x WHERE x.c>t1.c AND x.d<t1.d),
      CASE a+1 WHEN b THEN 111 WHEN c THEN 222
      WHEN d THEN 333  WHEN e THEN 444 ELSE 555 END,
      abs(a),
      a+b*2,
      a
      FROM t1
      WHERE d>e
      OR c>d
      OR e+d BETWEEN a+b-10 AND c+130
      ORDER BY 6,2,1,7,5,4,3;
  - name: t1

outputs:
  - name: q662.out
    data: |
      610	100	0	555	104	304	104
      635	105	0	333	107	317	107
      674	112	0	111	111	335	111
      708	118	0	333	115	351	115
      738	124	0	333	121	369	121
      760	129	0	333	127	385	127
      793	130	0	444	131	391	131
      827	139	0	111	138	416	138
      851	143	0	111	142	428	142
      880	145	0	555	149	439	149
      905	151	0	333	153	455	153
      966	160	0	333	163	483	163
      1000	167	0	333	168	502	168
      1030	170	0	555	174	514	174
      1057	175	0	555	179	529	179
      1096	181	0	333	182	544	182
      1121	186	0	444	188	560	188
      1158	194	0	444	191	579	191
      1241	206	0	111	205	617	205
      1277	211	0	222	213	635	213
      1338	223	0	444	220	666	220
      1391	232	0	555	234	698	234
      1416	236	0	555	239	711	239
      1455	240	0	222	243	723	243
      1484	249	0	444	245	743	245
