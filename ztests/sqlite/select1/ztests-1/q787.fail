# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q787.sql > q787.out

vector: true

inputs:
  - name: q787.sql
    data: |
      SELECT (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b),
      (a+b+c+d+e)/5,
      b
      FROM t1
      ORDER BY 3,1,2;
  - name: t1

outputs:
  - name: q787.out
    data: |
      0	102	100
      1	107	105
      2	112	112
      3	117	118
      4	122	124
      5	127	129
      6	132	130
      7	137	139
      8	142	143
      9	147	145
      10	152	151
      11	157	158
      12	162	160
      13	167	167
      14	172	170
      15	177	175
      16	182	181
      17	187	186
      18	192	194
      19	197	198
      20	202	200
      21	207	206
      22	212	211
      23	217	218
      24	222	223
      25	227	228
      26	232	232
      27	237	236
      28	242	240
      29	247	249
