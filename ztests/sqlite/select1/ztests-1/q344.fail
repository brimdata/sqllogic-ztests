# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q344.sql > q344.out

vector: true

inputs:
  - name: q344.sql
    data: |
      SELECT e,
      d-e,
      (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b),
      a+b*2,
      b,
      a+b*2+c*3
      FROM t1
      WHERE a>b
      OR (e>c OR e<d)
      ORDER BY 4,3,6,5,2,1;
  - name: t1

outputs:
  - name: q344.out
    data: |
      103	-2	0	304	100	610
      109	-1	1	317	105	635
      110	4	2	335	112	674
      120	2	4	369	124	738
      126	2	5	385	129	760
      132	1	6	391	130	793
      135	1	7	416	139	827
      144	-4	8	428	143	851
      146	2	9	439	145	880
      152	2	10	455	151	905
      157	-1	11	475	158	940
      162	2	12	483	160	966
      165	4	13	502	167	1000
      173	-2	14	514	170	1030
      177	1	15	529	175	1057
      180	3	16	544	181	1096
      189	-4	17	560	186	1121
      197	-1	19	595	198	1180
      204	-1	20	601	200	1207
      209	-2	21	617	206	1241
      210	2	22	635	211	1277
      219	-2	23	652	218	1297
      221	1	24	666	223	1338
      227	-1	25	685	228	1360
      230	3	26	698	232	1391
      237	1	27	711	236	1416
      242	-1	28	723	240	1455
      246	2	29	743	249	1484
