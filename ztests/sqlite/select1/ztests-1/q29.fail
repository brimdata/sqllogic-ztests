# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q29.sql > q29.out

inputs:
  - name: q29.sql
    data: |
      SELECT CASE a+1 WHEN b THEN 111 WHEN c THEN 222
      WHEN d THEN 333  WHEN e THEN 444 ELSE 555 END,
      b,
      a+b*2,
      (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b),
      CASE WHEN a<b-3 THEN 111 WHEN a<=b THEN 222
      WHEN a<b+3 THEN 333 ELSE 444 END
      FROM t1
      WHERE a>b
      OR c BETWEEN b-2 AND d+2
      OR c>d
      ORDER BY 3,2,1,4,5;

outputs:
  - name: q29.out
    data: |
      555	100	304	0	444
      333	105	317	1	333
      111	112	335	2	222
      333	118	351	3	222
      333	124	369	4	222
      444	130	391	6	333
      111	139	416	7	222
      111	143	428	8	222
      555	145	439	9	444
      333	151	455	10	333
      555	158	475	11	333
      333	160	483	12	444
      333	167	502	13	333
      555	170	514	14	444
      555	175	529	15	444
      333	181	544	16	333
      444	186	560	17	333
      444	194	579	18	222
      555	198	595	19	333
      222	200	601	20	333
      111	206	617	21	222
      222	211	635	22	333
      444	223	666	24	222
      555	228	685	25	333
      555	232	698	26	333
      555	236	711	27	444
      222	240	723	28	444
      444	249	743	29	111
