# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q512.sql > q512.out

vector: true

inputs:
  - name: q512.sql
    data: |
      SELECT a+b*2+c*3+d*4+e*5,
      a+b*2,
      a+b*2+c*3+d*4,
      CASE a+1 WHEN b THEN 111 WHEN c THEN 222
      WHEN d THEN 333  WHEN e THEN 444 ELSE 555 END,
      abs(b-c),
      (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b)
      FROM t1
      WHERE (a>b-2 AND a<b+2)
      OR b>c
      OR (e>a AND e<b)
      ORDER BY 6,5,4,2,1,3;
  - name: t1

outputs:
  - name: q512.out
    data: |
      1680	335	1130	111	1	2
      1757	351	1172	333	1	3
      1826	369	1226	333	1	4
      1902	385	1272	333	4	5
      1985	391	1325	444	4	6
      2046	416	1371	111	2	7
      2131	428	1411	111	2	8
      2281	455	1521	333	1	10
      2349	475	1564	555	3	11
      2501	502	1676	333	1	13
      2728	544	1828	333	3	16
      2878	579	1918	444	1	18
      2949	595	1964	555	3	19
      3039	601	2019	222	2	20
      3114	617	2069	111	2	21
      3260	652	2165	333	3	23
      3331	666	2226	444	1	24
      3399	685	2264	555	3	25
      3473	698	2323	555	1	26
      3553	711	2368	555	1	27
      3706	743	2476	444	2	29
