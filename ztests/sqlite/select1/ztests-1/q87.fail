# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q87.sql > q87.out

vector: true

inputs:
  - name: q87.sql
    data: |
      SELECT a,
      d,
      a+b*2+c*3+d*4+e*5,
      a-b,
      (SELECT count(*) FROM t1 AS x WHERE x.c>t1.c AND x.d<t1.d)
      FROM t1
      WHERE c BETWEEN b-2 AND d+2
      OR (a>b-2 AND a<b+2)
      OR b>c
      ORDER BY 1,3,5,4,2;
  - name: t1

outputs:
  - name: q87.out
    data: |
      104	101	1529	4	0
      107	108	1612	2	0
      111	114	1680	-1	0
      121	122	1826	-3	0
      127	128	1902	-2	0
      131	133	1985	1	0
      138	136	2046	-1	0
      142	140	2131	-1	0
      149	148	2202	4	0
      153	154	2281	2	0
      159	156	2349	1	0
      163	164	2432	3	0
      168	169	2501	1	0
      174	171	2579	4	0
      179	178	2654	4	0
      182	183	2728	1	0
      188	185	2806	2	0
      191	190	2878	-3	0
      199	196	2949	1	0
      201	203	3039	1	0
      205	207	3114	-1	0
      213	212	3175	2	0
      216	217	3260	-2	0
      220	222	3331	-3	0
      229	226	3399	1	0
      234	233	3473	2	0
      239	238	3553	3	0
      245	248	3706	-4	0
