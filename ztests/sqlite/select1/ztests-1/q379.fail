# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q379.sql > q379.out

inputs:
  - name: q379.sql
    data: |
      SELECT (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b),
      d-e,
      a,
      abs(a)
      FROM t1
      ORDER BY 3,1,4,2;
  - name: t1

outputs:
  - name: q379.out
    data: |
      0	-2	104	104
      1	-1	107	107
      2	4	111	111
      3	-1	115	115
      4	2	121	121
      5	2	127	127
      6	1	131	131
      7	1	138	138
      8	-4	142	142
      9	2	149	149
      10	2	153	153
      11	-1	159	159
      12	2	163	163
      13	4	168	168
      14	-2	174	174
      15	1	179	179
      16	3	182	182
      17	-4	188	188
      18	-2	191	191
      19	-1	199	199
      20	-1	201	201
      21	-2	205	205
      22	2	213	213
      23	-2	216	216
      24	1	220	220
      25	-1	229	229
      26	3	234	234
      27	1	239	239
      28	-1	243	243
      29	2	245	245
