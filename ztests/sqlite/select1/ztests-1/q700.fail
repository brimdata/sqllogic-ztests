# Failed due to: https://github.com/brimdata/super/issues/6549
script: |
  super -f tsv -I q700.sql > q700.out

vector: true

inputs:
  - name: q700.sql
    data: |
      SELECT (SELECT count(*) FROM t1 AS x WHERE x.b<t1.b),
      d-e,
      CASE WHEN c>(SELECT avg(c) FROM t1) THEN a*2 ELSE b*10 END,
      b-c,
      c,
      a+b*2+c*3+d*4+e*5
      FROM t1
      WHERE EXISTS(SELECT 1 FROM t1 AS x WHERE x.b<t1.b)
      ORDER BY 2,5,6,3,1,4;
  - name: t1

outputs:
  - name: q700.out
    data: |
      8	-4	1430	2	141	2131
      17	-4	376	-1	187	2806
      14	-2	1700	-2	172	2579
      18	-2	382	1	193	2878
      21	-2	410	-2	208	3114
      23	-2	432	3	215	3260
      1	-1	1050	-1	106	1612
      3	-1	1180	-1	119	1757
      11	-1	1580	3	155	2349
      19	-1	398	3	195	2949
      20	-1	402	-2	202	3039
      25	-1	458	3	225	3399
      28	-1	486	-4	244	3629
      6	1	1300	-4	134	1985
      7	1	1390	2	137	2046
      15	1	358	-1	176	2654
      24	1	440	-1	224	3331
      27	1	478	1	235	3553
      4	2	1240	1	123	1826
      5	2	1290	4	125	1902
      9	2	1450	-2	147	2202
      10	2	1510	1	150	2281
      12	2	1600	-1	161	2432
      22	2	426	-3	214	3175
      29	2	490	2	247	3706
      16	3	364	-3	184	2728
      26	3	468	1	231	3473
      2	4	1120	-1	113	1680
      13	4	1670	1	166	2501
