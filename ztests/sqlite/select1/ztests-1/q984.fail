# Failed due to: https://github.com/brimdata/super/issues/6013
script: |
  super -f tsv -I q984.sql > q984.out

inputs:
  - name: q984.sql
    data: |
      SELECT a+b*2+c*3,
      a+b*2+c*3+d*4+e*5,
      CASE WHEN a<b-3 THEN 111 WHEN a<=b THEN 222
      WHEN a<b+3 THEN 333 ELSE 444 END
      FROM t1
      WHERE EXISTS(SELECT 1 FROM t1 AS x WHERE x.b<t1.b)
      OR c>d
      OR (c<=d-2 OR c>=d+2)
      ORDER BY 2,3,1;

outputs:
  - name: q984.out
    data: |
      610	1529	444
      635	1612	333
      674	1680	222
      708	1757	222
      738	1826	222
      760	1902	222
      793	1985	333
      827	2046	222
      851	2131	222
      880	2202	444
      905	2281	333
      940	2349	333
      966	2432	444
      1000	2501	333
      1030	2579	444
      1057	2654	444
      1096	2728	333
      1121	2806	333
      1158	2878	222
      1180	2949	333
      1207	3039	333
      1241	3114	222
      1277	3175	333
      1297	3260	222
      1338	3331	222
      1360	3399	333
      1391	3473	333
      1416	3553	444
      1455	3629	444
      1484	3706	111
